# MicroServiceTemplate
Template Micro Service for Enterprise

## USAGE:

### Prerequisites
1. Download & Install Nodejs https://nodejs.org/en/ version 10.13.0 LTS
1. Make sure you are using 10.13.0 LTS version of Nodejs & 6.4.1 of npm version
1. Check Node/NPM version by running commands node -v & npm -v respectively
1. VS Code IDE https://code.visualstudio.com/download (Recommended for Nodejs development not required)

### Service - One Time
1. cd/chdir to install directory/folder ("EnterpriseMicroServiceTemplate")
1. npm install

### Service - Each time
1. cd/chdir to install directory/folder ("EnterpriseMicroServiceTemplate")
1. npm start

### Client
1. Open browser of your choice
1. URL for developer environment: http://localhost:3000

### Debugging
1. On Windows powershell set `$env:DEBUG = "*,-not_this"`
1. On Windows cmd set `DEBUG=*,-not_this`
1. On Linux `DEBUG=* npm start`

## Dockerize
1. Run 

## Standards in use
- OpenAPI 2.0

## Swagger
1. Goto url BASE_URL/docs


## Logs:
- **Default Log Dir -** `<PROJECT_DIR>/logs` <br>
- **To change default log dir -** Set env variable : `LOG_DIR='<DIR_NAME>'`

There are two types of logs generated by this service.
### Access Logs : 
  - By default, access log are enabled, You can disable access logs by setting up env variable : `DISABLE_ACCESS_LOGS=1`
  - default access log destination is file, to change destination to STDOUT, set env variable : `ACCESS_LOGS_REDIRECT_TO_STDOUT=1`
  - in case, log destination is file, default file name is : `<LOG_DIR>/access.logs` , change it by setting env variable : `ACCESS_LOG_FILE_NAME`
### API Logs :
- By default, API log are enabled, You can disable API logs by setting up env variable : `DISABLE_API_LOGS=1`
- default API log destination is file, to change destination to STDOUT, set env variable : `API_LOGS_REDIRECT_TO_STDOUT=1`
- in case, log destination is file, default file name is : `<LOG_DIR>/api.logs` , change it by setting env variable : `API_LOG_FILE_NAME`
- Set up log levels by setting env variable : `LOG_LEVEL=trace|debug|info|warn|error|fatal`
- default log level for different env: 
  ```
  dev: debug
  test: debug
  preprod: warn
  production: error
  ```
  ## Todo:
  - [ ] Improve Folder structure
  - [ ] Use of compression module
  - [ ] Implement Swagger documentation using seperate yaml/json file
  - [ ] Expose errors using class
  - [ ] Improve logger using logstash
  - [ ] Add git hooks to ensure UT & eslint
